# Generate your SSH key

Using the SSH protocol, you can connect and authenticate to remote servers and services. With SSH keys, you can connect to VG100 git server easily and securely. This tutorial will help you generate your own SSH key. To learn more about SSH authentication, refer to [About SSH](https://help.github.com/en/github/authenticating-to-github/about-ssh).

## Step 1: Preparation

### WSL (Windows Subsystem for Linux) or Linux Debian / Ubuntu

In your terminal, install `openssh` using your package manager. For example, in Debian / Ubuntu, type

```bash
$ sudo apt update
$ sudo apt install openssh-server
```

If you are using WSL, and also want to config the SSH directly in Windows, refer to the Further Readings.

### Arch Linux / Manjaro

```bash
$ sudo pacman -Syyu openssh
```

### macOS

```bash
$ brew install openssh
```



## Step 2: Check for existing SSH keys

Open your terminal (macOS/Linux) or git bash (Windows) and type

```bash
$ ls -al ~/.ssh
```

Check whether you already have `id_rsa` and `id_rsa.pub`.

1. If these files exist, go to step 4.
2. If `.ssh` directory does not exist, or it's empty. For example, if the output is

```bash
ls: cannot access '.ssh': No such file or directory
```
or it's empty, go to step 3.

## Step 3: Generate a new SSH key

In your terminal (Mac/Linux) or git bash (Windows), type

```bash
$ ssh-keygen -t rsa -C "your_name@sjtu.edu.cn"
```

Then when you are prompted

```
> Enter file in which to save the key (/Users/your_name/.ssh/id_rsa):
```

Just press Enter to save the key in the default directory. Then when you are prompted

```
> Enter passphrase (empty for no passphrase):
> Enter same passphrase again:
```

Usually, you can just press Enter to leave the passphrase empty. You can also set your passphrase. To learn more about the passphrase, see [Working with SSH key passphrases](https://help.github.com/en/github/authenticating-to-github/working-with-ssh-key-passphrases).


## Step 4: Check and submit

In your terminal (macOS/Linux) or git bash (Windows), check whether the key is already generated by typing

```bash
$ cd ~/.ssh
$ ls -al
```

You should be able to find `id_rsa` and `id_rsa.pub`. Then, copy the public key `id_rsa.pub` to another directory, and change its name. Type

On WSL, you may need to copy the file outside WSL. The file system of your Windows will be in the `/mnt` directory. For example, the path of Windows Desktop should be `/mnt/c/Users/Username/Desktop` in WSL.

```bash
$ cd /mnt/c/Users/Username/Desktop
$ cp ~/.ssh/id_rsa.pub ./LastName_FirstName_StudentID.pub
```

On Linux / macOS

```bash
$ cp id_rsa.pub ~/LastName_FirstName_StudentID.pub
```

For example, the filename can be `Zhang_San_519370910001.pub`.

Finally, submit this file on Canvas.

**Important Note: Only submit your public key, i.e., the key with `.pub` suffix.**

## Further Readings

### Windows 10

You can also to generate SSH keys with Git Bash, first install [git for windows](https://gitforwindows.org/).

If you've already installed `git` with `choco`, you can skip this step.

Then you can open the Git Bash to perform the same procedures, the home directory `~` will be `C:\Users\Username`.

You can also copy the `~/.ssh` folder in WSL into `C:\Users\Username\.ssh` so that everything will work on git bash without any other configuration.

## Reference

1. [Connecting to GitHub with SSH](https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh).
